<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eien Owlbear</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Eien Owlbear</h1>
        </header>

        <!-- Import Section -->
        <section id="import-section">
            <h2>Import Character</h2>
            <textarea id="character-input" placeholder='Paste character JSON:
{
  "characterName": "Hero",
  "maxHP": 100, "maxMP": 50, "maxIP": 100,
  "maxArmor": 20, "maxBarrier": 15,
  "stats": {
    "force": 10, "mind": 8, "grace": 12,
    "soul": 6, "heart": 10
  }
}'></textarea>
            <button id="import-btn">Import Character</button>
            <p class="hint">Or upload a file:</p>
            <input type="file" id="file-input" accept=".json,.txt">
        </section>

        <!-- Character Display Section -->
        <section id="character-section" style="display: none;">
            <div class="character-header">
                <h2 id="character-name">Character Name</h2>
                <button id="clear-btn">Clear</button>
            </div>

            <!-- Stats Display -->
            <div class="stats-section">
                <h3>üìä Stats</h3>
                <div class="stats-grid">
                    <div class="stat-badge force">
                        <span class="stat-name">FORCE</span>
                        <span class="stat-die" id="force-value">d10</span>
                    </div>
                    <div class="stat-badge mind">
                        <span class="stat-name">MIND</span>
                        <span class="stat-die" id="mind-value">d10</span>
                    </div>
                    <div class="stat-badge grace">
                        <span class="stat-name">GRACE</span>
                        <span class="stat-die" id="grace-value">d10</span>
                    </div>
                    <div class="stat-badge soul">
                        <span class="stat-name">SOUL</span>
                        <span class="stat-die" id="soul-value">d10</span>
                    </div>
                    <div class="stat-badge heart">
                        <span class="stat-name">HEART</span>
                        <span class="stat-die" id="heart-value">d10</span>
                    </div>
                </div>
            </div>

            <!-- Resources Display -->
            <div class="resources-grid">
                <div class="resource-card hp">
                    <div class="resource-icon">‚ù§Ô∏è</div>
                    <div class="resource-label">HP</div>
                    <div class="resource-value">
                        <span id="hp-current">100</span>/<span id="hp-max">100</span>
                    </div>
                </div>
                <div class="resource-card mp">
                    <div class="resource-icon">üíß</div>
                    <div class="resource-label">MP</div>
                    <div class="resource-value">
                        <span id="mp-current">50</span>/<span id="mp-max">50</span>
                    </div>
                </div>
                <div class="resource-card ip">
                    <div class="resource-icon">üí∞</div>
                    <div class="resource-label">IP</div>
                    <div class="resource-value">
                        <span id="ip-current">100</span>/<span id="ip-max">100</span>
                    </div>
                </div>
                <div class="resource-card armor">
                    <div class="resource-icon">üõ°Ô∏è</div>
                    <div class="resource-label">Armor</div>
                    <div class="resource-value">
                        <span id="armor-current">0</span>/<span id="armor-max">20</span>
                    </div>
                </div>
                <div class="resource-card barrier">
                    <div class="resource-icon">‚ú®</div>
                    <div class="resource-label">Barrier</div>
                    <div class="resource-value">
                        <span id="barrier-current">0</span>/<span id="barrier-max">15</span>
                    </div>
                </div>
            </div>

            <!-- Attack Section -->
            <div class="attack-section">
                <h3>‚öîÔ∏è Attack Roll</h3>
                <div class="attack-inputs">
                    <div class="input-group wide">
                        <label>Stat 1</label>
                        <select id="stat1">
                            <option value="10">FORCE (d10)</option>
                        </select>
                    </div>
                    <div class="input-group wide">
                        <label>Stat 2</label>
                        <select id="stat2">
                            <option value="10">MIND (d10)</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Modifier</label>
                        <input type="number" id="modifier" value="0">
                    </div>
                    <div class="input-group">
                        <label>Gate</label>
                        <input type="number" id="gate" value="1" min="1" max="100">
                    </div>
                </div>
                <button id="attack-btn" class="attack-btn">üé≤ Roll Attack</button>
            </div>

            <!-- Roll Result Display -->
            <div id="roll-result" class="roll-result" style="display: none;">
                <div class="roll-title">Attack Result</div>
                <div class="roll-details"></div>
                <div class="roll-total"></div>
            </div>
        </section>

        <!-- Error Display -->
        <div id="error-message" class="error-message" style="display: none;"></div>
    </div>

    <!-- Load Owlbear Rodeo SDK -->
    <script type="module">
        import OBR from 'https://unpkg.com/@owlbear-rodeo/sdk@latest/lib/index.js';
        window.OBR = OBR;
    </script>
    <script src="app.js"></script>
</body>
</html>
